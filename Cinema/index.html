<!-- Сообщаем браузеру как стоит обрабатывать эту страницу -->
<!DOCTYPE html>
<!-- Оболочка документа, указываем язык содержимого -->
<html lang="ru">
	<!-- Заголовок страницы, контейнер для других важных данных (не отображается) -->
	<head>
		<!-- Заголовок страницы в браузере -->
		<title>Фильмы</title>
		<!-- Подключаем CSS фреймворк -->
		<link rel="stylesheet" href="https://unpkg.com/mustard-ui@latest/dist/css/mustard-ui.min.css">
		<!-- Подключаем CSS -->
		<link rel="stylesheet" href="css/style.css" />
		<!-- Кодировка страницы -->
		<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
		<!--<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	</head>
	<!-- Отображаемое тело страницы -->
 <body>
<div class="page">
	<div class="page__titel title">
		<h1>Фильмы</h1></div>
	<div class="button-container">
		<a href="index.html">Фильмы</a>
		<a href="favorite.html">Закладки</a>
	</div>
	<div class="serchline">
	 <form>
  		<input type="text" id="filter" placeholder="Поиск по сайту...">
  		<span id="filter-count"></span>
  		
  		</button>
	 </form>
	</div>
	<div class="teg">
		<ul>
		<li><a href="#">Драма</a></li>
		<li><a href="#">Мистика</a></li>
		<li><a href="#">Роботы</a></li>
		<li><a href="#">Преключение</a></li>
		<li><a href="#">Семейный</a></li>
		<li><a href="#">Экшн</a></li>
		</ul>
	</div>
</div>
<div class="film_content">
	<ul class="film_content elastic">
	<li><a href="#" >Мир Дикого запада</a> <span class="like-btn"></span></li>
	<li><a href="#" >Доктор Кто</a></li>
	<li><a href="#" >Звёздные войны: Войны Клонов</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Хан Соло: Звездные войны. Истории</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Суперсемейка</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Остров собак</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Тау</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Бегущий по лезвию 2049</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Затерянные в космосе</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Тихоокеанский рубеж 2</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Kingsman: Золотое кольцо</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Люди</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Стражи Галактики. Часть 2</a></li>
	<li class=" blogBox moreBox" style="display: none;">
		<a href="#" >Трансформеры: Последний рыцарь</a></li>
	</ul>	
<script src= "js/script.js"></script>
</div>
<a href="#" id="loadMore">Показать еще</a>

<script>
	document.querySelector('#elastic').oniput = function (){
	let val = this.value.trim();
	let elasticItems = document.querySelectorAll('.elastic div');
	if (val != '') {
		elasticItems.forEach(function (elem){
			if (elem.innerText.search(val) == -1){
				elem.classList.add('hide');
				elem.innerHTML = elem.innerText;
			}
			else {
				elem.classList.remove('hide');
				let str = elem.innerText;
				elem.innerHTML = insertMark(str, elem.innerText.search(val), val.length);
			}
	    });	
	}
	else {
		elasticItems.forEach(function(elem){
			elem.classList.remove('hide');
			elem.innerHTML = elem.innerText;
		});
	}
}

function insertMark(string, pos, len) {
	return string.slice(0, pos) + '<mark>' + string.slice(pos, pos + len) + '</mark>' + string.slice(pos + len);
}
</script>

<script>
$( document ).ready(function () {
		$(".moreBox").slice(0, 3).show();
		if ($(".blogBox:hidden").length != 0) {
			$("#loadMore").show();
		}		
		$("#loadMore").on('click', function (e) {
			e.preventDefault();
			$(".moreBox:hidden").slice(0, 6).slideDown();
			if ($(".moreBox:hidden").length == 0) {
				$("#loadMore").fadeOut('slow');
			}
		});
	});
</script>
 </body>
</html>